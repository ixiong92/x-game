import{d as U,u as $,r as D,p as c,c as v,b as e,a as s,f as a,w as n,e as m,o as d,J as H,t as r,F as M,g as x,n as L,C as S,L as j,l as A,j as Q,O as R,E as q,h as K,_ as X}from"./index-J8i9tB8A.js";import{s as V,H as P}from"./touch-handler-DtA4rPka.js";import{S as Y}from"./ParticleEffect.vue_vue_type_style_index_0_scoped_0f834ed3_lang-C1xJ9BwO.js";import{G as u}from"./GameCard-FCkXvoNR.js";const Z={class:"parent-panel-container"},ss={class:"parent-panel-content"},ts={class:"header"},es={class:"overview-cards"},os={class:"card-content"},as={class:"card-info"},ls={class:"card-value"},ns={class:"card-content"},rs={class:"card-info"},is={class:"card-value"},cs={class:"card-content"},ds={class:"card-info"},us={class:"card-value"},ps={class:"card-content"},_s={class:"card-info"},vs={class:"card-value"},ms={class:"stats-section"},gs={class:"stat-row"},fs={class:"stat-bar-wrapper"},hs={class:"stat-text"},ws={class:"stat-row"},Cs={class:"stat-bar-wrapper"},ks={class:"stat-text"},bs={class:"achievement-progress"},ys={class:"progress-header"},Ms={class:"achievement-list"},xs={class:"achievement-icon"},Ss={class:"achievement-name"},Vs={class:"suggestions"},Ps={class:"suggestion-icon"},Bs={class:"suggestion-content"},Ts={class:"suggestion-title"},Fs={class:"suggestion-desc"},Ns={class:"time-control"},Es={class:"control-item"},Gs={key:0,class:"control-item"},Ws={class:"control-info"},zs=U({__name:"ParentPanel",setup(Is){const B=K(),l=$(),p=D({enabled:!1,maxMinutes:60}),T={10:"10分",30:"30分",60:"60分",90:"90分",120:"120分"},w=c(()=>Math.floor(l.progress.totalTime/60)),f=c(()=>{const o=l.progress.totalCorrect+l.progress.totalWrong;return o===0?0:Math.round(l.progress.totalCorrect/o*100)}),g=c(()=>l.progress.totalCorrect+l.progress.totalWrong),F=c(()=>g.value===0?0:Math.round(l.progress.totalCorrect/g.value*100)),N=c(()=>g.value===0?0:Math.round(l.progress.totalWrong/g.value*100)),C=c(()=>l.achievements.length),k=c(()=>l.achievements.filter(o=>o.unlocked).length),b=c(()=>Math.round(k.value/C.value*100)),E=c(()=>{const o=[];return f.value<60?o.push({icon:"💡",title:"加强基础练习",description:"当前正确率较低，建议从简单模式开始，巩固基础知识。"}):f.value>=90&&o.push({icon:"🎉",title:"表现优秀",description:"正确率很高！可以尝试困难模式挑战自己。"}),l.progress.totalGames<10&&o.push({icon:"🎮",title:"保持练习",description:"建议每天坚持练习，养成良好的学习习惯。"}),w.value>60&&o.push({icon:"⏰",title:"注意休息",description:"今日学习时间较长，建议适当休息，保护视力。"}),o.length===0&&o.push({icon:"👍",title:"学习状态良好",description:"继续保持当前的学习节奏，稳步提升。"}),o}),G=o=>{const t=Math.floor(o/3600),_=Math.floor(o%3600/60);return t>0?`${t}小时${_}分钟`:`${_}分钟`},W=()=>{V.play("select"),P.light(),B.back()},y=()=>{localStorage.setItem("timeControl",JSON.stringify(p.value)),V.play("correct"),P.light(),q.success("设置已保存")};return(()=>{const o=localStorage.getItem("timeControl");o&&(p.value=JSON.parse(o))})(),(o,t)=>{const _=m("el-icon"),z=m("el-button"),h=m("el-progress"),I=m("el-switch"),J=m("el-slider");return d(),v("div",Z,[e(a(Y)),s("div",ss,[s("div",ts,[e(z,{circle:"",size:"large",onClick:W},{default:n(()=>[e(_,null,{default:n(()=>[e(a(H))]),_:1})]),_:1}),t[2]||(t[2]=s("h1",{class:"page-title"},"家长监控",-1)),t[3]||(t[3]=s("div",{style:{width:"40px"}},null,-1))]),s("div",es,[e(a(u),{class:"overview-card",shadow:"always"},{default:n(()=>[s("div",os,[t[5]||(t[5]=s("div",{class:"card-icon"},"🎮",-1)),s("div",as,[t[4]||(t[4]=s("span",{class:"card-label"},"总游戏次数",-1)),s("span",ls,r(a(l).progress.totalGames),1)])])]),_:1}),e(a(u),{class:"overview-card",shadow:"always"},{default:n(()=>[s("div",ns,[t[7]||(t[7]=s("div",{class:"card-icon"},"📊",-1)),s("div",rs,[t[6]||(t[6]=s("span",{class:"card-label"},"平均正确率",-1)),s("span",is,r(f.value)+"%",1)])])]),_:1}),e(a(u),{class:"overview-card",shadow:"always"},{default:n(()=>[s("div",cs,[t[9]||(t[9]=s("div",{class:"card-icon"},"⏱",-1)),s("div",ds,[t[8]||(t[8]=s("span",{class:"card-label"},"总学习时长",-1)),s("span",us,r(G(a(l).progress.totalTime)),1)])])]),_:1}),e(a(u),{class:"overview-card",shadow:"always"},{default:n(()=>[s("div",ps,[t[11]||(t[11]=s("div",{class:"card-icon"},"⭐",-1)),s("div",_s,[t[10]||(t[10]=s("span",{class:"card-label"},"最高分数",-1)),s("span",vs,r(a(l).progress.bestScore),1)])])]),_:1})]),e(a(u),{title:"学习统计",shadow:"always"},{default:n(()=>[s("div",ms,[s("div",gs,[t[12]||(t[12]=s("span",{class:"stat-label"},"正确题数",-1)),s("div",fs,[e(h,{percentage:F.value,"stroke-width":20,color:"#50C878"},{default:n(()=>[s("span",hs,r(a(l).progress.totalCorrect),1)]),_:1},8,["percentage"])])]),s("div",ws,[t[13]||(t[13]=s("span",{class:"stat-label"},"错误题数",-1)),s("div",Cs,[e(h,{percentage:N.value,"stroke-width":20,color:"#E74C3C"},{default:n(()=>[s("span",ks,r(a(l).progress.totalWrong),1)]),_:1},8,["percentage"])])])])]),_:1}),e(a(u),{title:"成就进度",shadow:"always"},{default:n(()=>[s("div",bs,[s("div",ys,[s("span",null,"已解锁 "+r(k.value)+"/"+r(C.value)+" 个成就",1),s("span",null,r(b.value)+"%",1)]),e(h,{percentage:b.value,"stroke-width":12,color:"#FFD700"},null,8,["percentage"]),s("div",Ms,[(d(!0),v(M,null,x(a(l).achievements,i=>(d(),v("div",{key:i.id,class:L(["achievement-item",{unlocked:i.unlocked}])},[s("span",xs,r(i.icon),1),s("span",Ss,r(i.name),1),i.unlocked?(d(),S(_,{key:0,color:"#50C878"},{default:n(()=>[e(a(j))]),_:1})):(d(),S(_,{key:1,color:"#999"},{default:n(()=>[e(a(A))]),_:1}))],2))),128))])])]),_:1}),e(a(u),{title:"学习建议",shadow:"always"},{default:n(()=>[s("div",Vs,[(d(!0),v(M,null,x(E.value,(i,O)=>(d(),v("div",{key:O,class:"suggestion-item"},[s("div",Ps,r(i.icon),1),s("div",Bs,[s("div",Ts,r(i.title),1),s("div",Fs,r(i.description),1)])]))),128))])]),_:1}),e(a(u),{title:"时间控制",shadow:"always"},{default:n(()=>[s("div",Ns,[s("div",Es,[t[14]||(t[14]=s("span",{class:"control-label"},"每日学习时长限制",-1)),e(I,{modelValue:p.value.enabled,"onUpdate:modelValue":t[0]||(t[0]=i=>p.value.enabled=i),"active-text":"开启","inactive-text":"关闭",size:"large",onChange:y},null,8,["modelValue"])]),p.value.enabled?(d(),v("div",Gs,[t[15]||(t[15]=s("span",{class:"control-label"},"每日最长时长（分钟）",-1)),e(J,{modelValue:p.value.maxMinutes,"onUpdate:modelValue":t[1]||(t[1]=i=>p.value.maxMinutes=i),min:10,max:120,step:10,marks:T,"show-stops":"",onChange:y},null,8,["modelValue"])])):Q("",!0),s("div",Ws,[e(_,null,{default:n(()=>[e(a(R))]),_:1}),s("span",null,"今日已学习 "+r(w.value)+" 分钟",1)])])]),_:1})])])}}}),Hs=X(zs,[["__scopeId","data-v-796d9a3f"]]);export{Hs as default};
