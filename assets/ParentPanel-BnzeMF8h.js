import{d as U,u as $,r as D,p as c,c as p,b as t,a as s,f as a,w as l,e as g,o as d,J as H,t as r,F as y,g as M,n as L,C as x,L as j,l as A,j as Q,O as R,E as q,h as K,_ as X}from"./index-CaWMExpd.js";import{s as S,H as V}from"./touch-handler-DtA4rPka.js";import{S as Y}from"./ParticleEffect.vue_vue_type_style_index_0_scoped_82588b30_lang-CXtHM9Sc.js";import{G as u}from"./GameCard-eHr7GZ-J.js";const Z={class:"parent-panel-container"},ss={class:"parent-panel-content"},es={class:"header"},ts={class:"overview-cards"},os={class:"card-content"},as={class:"card-info"},ns={class:"card-value"},ls={class:"card-content"},rs={class:"card-info"},is={class:"card-value"},cs={class:"card-content"},ds={class:"card-info"},us={class:"card-value"},_s={class:"card-content"},vs={class:"card-info"},ps={class:"card-value"},gs={class:"stats-section"},ms={class:"stat-row"},fs={class:"stat-bar-wrapper"},hs={class:"stat-text"},ws={class:"stat-row"},Cs={class:"stat-bar-wrapper"},ks={class:"stat-text"},Ps={class:"achievement-progress"},bs={class:"progress-header"},ys={class:"achievement-list"},Ms={class:"achievement-icon"},xs={class:"achievement-name"},Ss={class:"suggestions"},Vs={class:"suggestion-icon"},Bs={class:"suggestion-content"},Ts={class:"suggestion-title"},Fs={class:"suggestion-desc"},Ns={class:"time-control"},Es={class:"control-item"},Gs={key:0,class:"control-item"},Ws={class:"control-info"},zs=U({__name:"ParentPanel",setup(Is){const B=K(),n=$(),_=D({enabled:!1,maxMinutes:60}),T={10:"10分",30:"30分",60:"60分",90:"90分",120:"120分"},w=c(()=>Math.floor(n.learningProgress.totalTime/60)),f=c(()=>{const o=n.learningProgress.totalCorrect+n.learningProgress.totalWrong;return o===0?0:Math.round(n.learningProgress.totalCorrect/o*100)}),m=c(()=>n.learningProgress.totalCorrect+n.learningProgress.totalWrong),F=c(()=>m.value===0?0:Math.round(n.learningProgress.totalCorrect/m.value*100)),N=c(()=>m.value===0?0:Math.round(n.learningProgress.totalWrong/m.value*100)),C=c(()=>n.achievements.length),k=c(()=>n.achievements.filter(o=>o.unlocked).length),P=c(()=>Math.round(k.value/C.value*100)),E=c(()=>{const o=[];return f.value<60?o.push({icon:"💡",title:"加强基础练习",description:"当前正确率较低，建议从简单模式开始，巩固基础知识。"}):f.value>=90&&o.push({icon:"🎉",title:"表现优秀",description:"正确率很高！可以尝试困难模式挑战自己。"}),n.learningProgress.totalGames<10&&o.push({icon:"🎮",title:"保持练习",description:"建议每天坚持练习，养成良好的学习习惯。"}),w.value>60&&o.push({icon:"⏰",title:"注意休息",description:"今日学习时间较长，建议适当休息，保护视力。"}),o.length===0&&o.push({icon:"👍",title:"学习状态良好",description:"继续保持当前的学习节奏，稳步提升。"}),o}),G=o=>{const e=Math.floor(o/3600),v=Math.floor(o%3600/60);return e>0?`${e}小时${v}分钟`:`${v}分钟`},W=()=>{S.play("select"),V.light(),B.back()},b=()=>{localStorage.setItem("timeControl",JSON.stringify(_.value)),S.play("correct"),V.light(),q.success("设置已保存")};return(()=>{const o=localStorage.getItem("timeControl");o&&(_.value=JSON.parse(o))})(),(o,e)=>{const v=g("el-icon"),z=g("el-button"),h=g("el-progress"),I=g("el-switch"),J=g("el-slider");return d(),p("div",Z,[t(a(Y)),s("div",ss,[s("div",es,[t(z,{circle:"",size:"large",onClick:W},{default:l(()=>[t(v,null,{default:l(()=>[t(a(H))]),_:1})]),_:1}),e[2]||(e[2]=s("h1",{class:"page-title"},"家长监控",-1)),e[3]||(e[3]=s("div",{style:{width:"40px"}},null,-1))]),s("div",ts,[t(a(u),{class:"overview-card",shadow:"always"},{default:l(()=>[s("div",os,[e[5]||(e[5]=s("div",{class:"card-icon"},"🎮",-1)),s("div",as,[e[4]||(e[4]=s("span",{class:"card-label"},"总游戏次数",-1)),s("span",ns,r(a(n).learningProgress.totalGames),1)])])]),_:1}),t(a(u),{class:"overview-card",shadow:"always"},{default:l(()=>[s("div",ls,[e[7]||(e[7]=s("div",{class:"card-icon"},"📊",-1)),s("div",rs,[e[6]||(e[6]=s("span",{class:"card-label"},"平均正确率",-1)),s("span",is,r(f.value)+"%",1)])])]),_:1}),t(a(u),{class:"overview-card",shadow:"always"},{default:l(()=>[s("div",cs,[e[9]||(e[9]=s("div",{class:"card-icon"},"⏱",-1)),s("div",ds,[e[8]||(e[8]=s("span",{class:"card-label"},"总学习时长",-1)),s("span",us,r(G(a(n).learningProgress.totalTime)),1)])])]),_:1}),t(a(u),{class:"overview-card",shadow:"always"},{default:l(()=>[s("div",_s,[e[11]||(e[11]=s("div",{class:"card-icon"},"⭐",-1)),s("div",vs,[e[10]||(e[10]=s("span",{class:"card-label"},"最高分数",-1)),s("span",ps,r(a(n).learningProgress.bestScore),1)])])]),_:1})]),t(a(u),{title:"学习统计",shadow:"always"},{default:l(()=>[s("div",gs,[s("div",ms,[e[12]||(e[12]=s("span",{class:"stat-label"},"正确题数",-1)),s("div",fs,[t(h,{percentage:F.value,"stroke-width":20,color:"#50C878"},{default:l(()=>[s("span",hs,r(a(n).learningProgress.totalCorrect),1)]),_:1},8,["percentage"])])]),s("div",ws,[e[13]||(e[13]=s("span",{class:"stat-label"},"错误题数",-1)),s("div",Cs,[t(h,{percentage:N.value,"stroke-width":20,color:"#E74C3C"},{default:l(()=>[s("span",ks,r(a(n).learningProgress.totalWrong),1)]),_:1},8,["percentage"])])])])]),_:1}),t(a(u),{title:"成就进度",shadow:"always"},{default:l(()=>[s("div",Ps,[s("div",bs,[s("span",null,"已解锁 "+r(k.value)+"/"+r(C.value)+" 个成就",1),s("span",null,r(P.value)+"%",1)]),t(h,{percentage:P.value,"stroke-width":12,color:"#FFD700"},null,8,["percentage"]),s("div",ys,[(d(!0),p(y,null,M(a(n).achievements,i=>(d(),p("div",{key:i.id,class:L(["achievement-item",{unlocked:i.unlocked}])},[s("span",Ms,r(i.icon),1),s("span",xs,r(i.name),1),i.unlocked?(d(),x(v,{key:0,color:"#50C878"},{default:l(()=>[t(a(j))]),_:1})):(d(),x(v,{key:1,color:"#999"},{default:l(()=>[t(a(A))]),_:1}))],2))),128))])])]),_:1}),t(a(u),{title:"学习建议",shadow:"always"},{default:l(()=>[s("div",Ss,[(d(!0),p(y,null,M(E.value,(i,O)=>(d(),p("div",{key:O,class:"suggestion-item"},[s("div",Vs,r(i.icon),1),s("div",Bs,[s("div",Ts,r(i.title),1),s("div",Fs,r(i.description),1)])]))),128))])]),_:1}),t(a(u),{title:"时间控制",shadow:"always"},{default:l(()=>[s("div",Ns,[s("div",Es,[e[14]||(e[14]=s("span",{class:"control-label"},"每日学习时长限制",-1)),t(I,{modelValue:_.value.enabled,"onUpdate:modelValue":e[0]||(e[0]=i=>_.value.enabled=i),"active-text":"开启","inactive-text":"关闭",size:"large",onChange:b},null,8,["modelValue"])]),_.value.enabled?(d(),p("div",Gs,[e[15]||(e[15]=s("span",{class:"control-label"},"每日最长时长（分钟）",-1)),t(J,{modelValue:_.value.maxMinutes,"onUpdate:modelValue":e[1]||(e[1]=i=>_.value.maxMinutes=i),min:10,max:120,step:10,marks:T,"show-stops":"",onChange:b},null,8,["modelValue"])])):Q("",!0),s("div",Ws,[t(v,null,{default:l(()=>[t(a(R))]),_:1}),s("span",null,"今日已学习 "+r(w.value)+" 分钟",1)])])]),_:1})])])}}}),Hs=X(zs,[["__scopeId","data-v-72210c94"]]);export{Hs as default};
